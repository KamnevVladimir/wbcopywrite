import Vapor

/// Сервис для SEO-оптимизации и анализа трендов
final class SEOOptimizationService: @unchecked Sendable {
    private let app: Application
    
    init(app: Application) {
        self.app = app
    }
    
    // MARK: - Trending Keywords 2024-2025
    
    /// Получить трендовые ключевые слова для категории
    func getTrendingKeywords(for category: Constants.ProductCategory) -> [String] {
        switch category {
        case .clothing:
            return [
                "тренд 2025", "модный", "стильный", "качественный",
                "универсальный", "комфортный", "дышащий", "гипоаллергенный",
                "премиум", "бюджетный", "сезонный", "унисекс",
                "экологичный", "устойчивая мода", "минимализм", "максимализм"
            ]
            
        case .electronics:
            return [
                "умный", "интеллектуальный", "автоматический", "беспроводной",
                "портативный", "компактный", "энергоэффективный", "экологичный",
                "быстрый", "мощный", "надежный", "инновационный",
                "современный", "технологичный", "премиум", "доступный"
            ]
            
        case .home:
            return [
                "умный дом", "эко", "экологичный", "натуральный",
                "минимализм", "скандинавский стиль", "функциональный",
                "многофункциональный", "компактный", "портативный",
                "автоматический", "энергосберегающий", "долговечный"
            ]
            
        case .beauty:
            return [
                "натуральный", "органический", "эко", "чистая красота",
                "гипоаллергенный", "тестированный", "дерматологически протестированный",
                "веганский", "cruelty-free", "без сульфатов", "без парабенов",
                "антивозрастной", "увлажняющий", "защитный", "восстанавливающий"
            ]
            
        case .sports:
            return [
                "профессиональный", "тренировочный", "спортивный", "активный",
                "эргономичный", "анатомический", "компрессионный", "дышащий",
                "водоотталкивающий", "антибактериальный", "износостойкий",
                "технологичный", "инновационный", "современный"
            ]
            
        case .kids:
            return [
                "развивающий", "обучающий", "интерактивный", "безопасный",
                "экологичный", "гипоаллергенный", "мягкий", "яркий",
                "цветной", "музыкальный", "светящийся", "многофункциональный",
                "долговечный", "качественный", "сертифицированный"
            ]
            
        case .auto:
            return [
                "оригинальный", "качественный", "надежный", "долговечный",
                "универсальный", "совместимый", "профессиональный",
                "сертифицированный", "гарантированный", "износостойкий",
                "антикоррозийный", "высокотехнологичный", "премиум"
            ]
            
        case .books:
            return [
                "обучающий", "познавательный", "интересный", "актуальный",
                "современный", "популярный", "бестселлер", "новинка",
                "экспертный", "профессиональный", "качественный",
                "информативный", "практичный", "полезный"
            ]
            
        case .other:
            return [
                "качественный", "надежный", "долговечный", "функциональный",
                "практичный", "удобный", "многофункциональный", "универсальный",
                "доступный", "выгодный", "экономичный", "эффективный"
            ]
        }
    }
    
    // MARK: - Emotional Triggers
    
    /// Получить эмоциональные триггеры для категории
    func getEmotionalTriggers(for category: Constants.ProductCategory) -> [String] {
        switch category {
        case .clothing:
            return [
                "Почувствуй себя уверенно", "Создай неповторимый образ",
                "Выделись из толпы", "Подари себе комфорт",
                "Будь в тренде", "Подчеркни свою индивидуальность"
            ]
            
        case .electronics:
            return [
                "Увеличь продуктивность", "Наслаждайся премиум-качеством",
                "Будь на шаг впереди", "Подари себе комфорт",
                "Упрости свою жизнь", "Открой новые возможности"
            ]
            
        case .home:
            return [
                "Создай уютную атмосферу", "Преврати дом в место мечты",
                "Подари семье комфорт", "Сделай жизнь проще",
                "Окружи себя красотой", "Создай идеальное пространство"
            ]
            
        case .beauty:
            return [
                "Подари себе сияющую красоту", "Почувствуй себя уверенно",
                "Заботься о себе с любовью", "Открой естественную красоту",
                "Подари коже здоровье", "Подчеркни свою привлекательность"
            ]
            
        case .sports:
            return [
                "Достигай новых высот", "Почувствуй силу и выносливость",
                "Преврати тренировки в удовольствие", "Будь примером для других",
                "Покоряй новые вершины", "Стань лучшей версией себя"
            ]
            
        case .kids:
            return [
                "Подари ребенку радость", "Позаботься о безопасности",
                "Создай счастливые воспоминания", "Помоги ребенку развиваться",
                "Подари улыбку малышу", "Создай мир чудес"
            ]
            
        case .auto:
            return [
                "Сделай машину идеальной", "Позаботься о безопасности",
                "Подари комфорт в поездках", "Будь уверен в качестве",
                "Улучши характеристики авто", "Создай идеальный салон"
            ]
            
        case .books:
            return [
                "Открой новые горизонты", "Подари интеллектуальное удовольствие",
                "Расширь кругозор", "Найди ответы на вопросы",
                "Погрузись в мир знаний", "Стань экспертом в теме"
            ]
            
        case .other:
            return [
                "Реши задачу эффективно", "Подари радость и пользу",
                "Сделай жизнь проще", "Будь уверен в качестве",
                "Получи максимум выгоды", "Наслаждайся результатом"
            ]
        }
    }
    
    // MARK: - FOMO Triggers
    
    /// Получить FOMO триггеры для категории
    func getFOMOTriggers(for category: Constants.ProductCategory) -> [String] {
        let commonFOMO = [
            "Ограниченная серия", "Последние штуки", "Только сегодня",
            "Пока не закончилось", "Эксклюзивное предложение",
            "Редкая возможность", "Не упусти шанс"
        ]
        
        let categorySpecific = switch category {
        case .clothing:
            ["Новая коллекция", "Сезонная распродажа", "Топ-продаж"]
        case .electronics:
            ["Новинка 2025", "Последняя модель", "Инновационная технология"]
        case .home:
            ["Хит сезона", "Популярный выбор", "Рекомендуют эксперты"]
        case .beauty:
            ["Бестселлер", "Выбор профессионалов", "Проверено временем"]
        case .sports:
            ["Выбор спортсменов", "Профессиональное качество", "Топ-бренд"]
        case .kids:
            ["Любимчик детей", "Рекомендуют мамы", "Безопасность проверена"]
        case .auto:
            ["Оригинальное качество", "Сертифицировано", "Гарантия производителя"]
        case .books:
            ["Бестселлер", "Рекомендуют эксперты", "Популярный автор"]
        case .other:
            ["Проверенное качество", "Популярный выбор", "Рекомендуют покупатели"]
        }
        
        return commonFOMO + categorySpecific
    }
    
    // MARK: - Social Proof Triggers
    
    /// Получить триггеры социального доказательства
    func getSocialProofTriggers() -> [String] {
        return [
            "Выбор 10,000+ покупателей", "Топ-продаж", "Рекомендуют эксперты",
            "Сертифицировано", "Проверено временем", "Популярный бренд",
            "Высокий рейтинг", "Положительные отзывы", "Доверие покупателей"
        ]
    }
    
    // MARK: - Urgency Triggers
    
    /// Получить триггеры срочности
    func getUrgencyTriggers() -> [String] {
        return [
            "Акция до конца недели", "Быстрая доставка", "В наличии ограниченное количество",
            "Скидка действует ограниченное время", "Только для первых покупателей",
            "Специальное предложение", "Не упусти возможность"
        ]
    }
}
